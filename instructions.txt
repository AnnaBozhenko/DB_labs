# Лабораторна робота 1: Завантаження даних в базу
У директорії app створіть директорію data та завантажте туди всі csv-файли з 2016 по 2021 роки  
Для збірки контейнерів введіть у консолі: docker compose up
Успішне заповнення бази - виведення програмою повідомлення типу "Table examinations populated" 
Для виконання запитів через клієнта pgadmin4 уведіть в браузері адресу localhost:5050
Уведіть логін:  user@domain.com
        пароль: clientpass
Створити сервер -> host: bd, 
                   user: Student, 
                   password: qwerty

# ------------------------------
# Лабораторна робота 2: Міграція
Щоб запустити міграції з нуля (база пуста):
        1. запустіть команду:
        docker compose db migrate_0
Щоб запустити міграції з вже існуючої бази (з лаб 1):
        1. Завантажте в директорію data всі csv-файли з 2016 по 2021 роки
        3. запустіть в терміналі команду:
        docker compose up app db
        4. дочекайтеся завершення роботи додатку
        5. запустіть в терміналі команду:
        docker compose up flyway
Щоб моніторити стан бази:
        запустіть в терміналі команду:
        docker exec -ti db_labs-db-1 sh -c "psql -U Student -d ZNO"
        вводьте необхідні команди для моніторингу стану бази, наприклад проглянути всі таблиці: \dt
Для отримання результатів з нових таблиць запустити команду: docker compose up result_app
# Корисні команди (необов'язкові)
Змінити max_wal_size для postgres:
        1. Запустити shell-термінал контейнеру postgres:
        docker exec -ti db_labs-db-1 sh
        2. перейти в папку, де міститься postgresql.conf:
        cd var/lib/postgresql/data
        3. знайти рядок у файлі postgresql.conf, зі змінною max_wal_size:
        grep -rnw postgresql.conf -e 'max_wal_size'
        4. відкрити файл postgresql.conf:
        vi postgresql.conf
        5. почати редагування:
        i
        6. завершити редагування:
        esc
        7. закрити файл:
        :x
        8. зупинити контейнер postgres
        відновити контейнер postgres
postgresql-запит, щоб моніторити міграції:
select version, description, installed_on, execution_time from flyway_schema_history;
